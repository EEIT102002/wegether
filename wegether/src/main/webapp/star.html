<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>02dynamicStyleImg.html</title>
    <style>
        .s {
            -webkit-filter: grayscale(1);  /*沒有任何色彩的黑白影像*/
        }
        .n {
            -webkit-filter: grayscale(0);  /*顏色不變*/
        }

        figure {
           text-align: center;
        }

    </style>
    <script>
        var ck;
        // http://blog.shihshih.com/css-filter/
        document.addEventListener("DOMContentLoaded", function () {
            var areas=document.querySelectorAll("img")
            var a=areas.length;
            for(var i=0;i<=a;i++){
                areas[i].addEventListener("mouseover",mouseOver);
                areas[i].addEventListener("mouseout",mouseOut);
                areas[i].addEventListener("click",Click);
            }
        });

        function mouseOver() {
            var areas=document.querySelectorAll("img")
            var ct=this.id.substr(6);
            for(var i=1;i<=areas.length;i++){
                if(i<=ct){
                document.getElementById("idstar"+i).className = "n";
                document.getElementById("text1").textContent="評分中..."+i;
                }else{
                document.getElementById("idstar"+i).className = "s";
                }
            }
        }

        function mouseOut() {
            if(ck==1)
            var ct=this.id.substr(6);
            for(var i=1;i<=ct;i++){
                document.getElementById("idstar"+i).className = "s";
                document.getElementById("text1").textContent=""; 
                }
                ck=1;
            }
            
        

        function Click(){
            document.getElementById("text1").textContent="給你"+this.id.substr(6)+"顆星";
            ck=0;
        }
        </script>
</head>
<body>
    <figure>
        <div>
            <img id="idstar1" class="s" src="images/star.jpg" />
            <img id="idstar2" class="s" src="images/star.jpg" />
            <img id="idstar3" class="s" src="images/star.jpg" />
            <img id="idstar4" class="s" src="images/star.jpg" />
            <img id="idstar5" class="s" src="images/star.jpg" />
            <br>
            <h2 id="text1"></h2>
        </div>
</figure>
</body>

</html>
